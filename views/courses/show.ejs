<div>
  <a class="back-link" href="/courses">‚Üê Back to Courses</a>
  <header class="page-header">
    <div class="page-header-content">
      <h1><%= course.title %></h1>
      <p class="muted"><%= course.description %></p>
    </div>

    <div class="header-actions">
      <a class="btn" href="/lessons/new?course_id=<%= course.id %>">+ New Lesson</a>
      <a class="btn-secondary" href="/courses/<%= course.id %>/edit">Edit Course</a>
    </div>
  </header>

  <h2>Lessons</h2>

  <% if (!lessons || lessons.length === 0) { %>
    <p class="muted">No lessons yet for this course.</p>
  <% } else { %>
    <ul class="card-list">
      <% lessons.forEach(lesson => { %>
        <li class="card">
          <div class="card-row">
            <h3 class="card-title" style="margin:0;">
              <a class="link" href="/lessons/<%= lesson.id %>"><%= lesson.title %></a>
            </h3>
            <span class="badge"><%= lesson.is_published ? 'Published' : 'Draft' %></span>
          </div>

          <% if (lesson.description) { %>
            <p class="card-desc"><%= lesson.description %></p>
          <% } %>

          <div class="card-meta">
            <span>Position: <%= lesson.position %></span>
            <span>ID: <%= lesson.id %></span>
          </div>

          <div class="card-actions">
            <a class="btn-secondary" href="/lessons/<%= lesson.id %>">View</a>
            <a class="btn-secondary" href="/lessons/<%= lesson.id %>/edit">Edit</a>

            <form method="POST" action="/lessons/<%= lesson.id %>/delete" class="inline-form"
                  onsubmit="return confirm('Delete this lesson?');">
              <button class="btn-danger" type="submit">Delete</button>
            </form>
          </div>
        </li>
      <% }) %>
    </ul>
  <% } %>
</div>
